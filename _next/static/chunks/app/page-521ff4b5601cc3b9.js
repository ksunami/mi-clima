(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3486:(e,t,s)=>{Promise.resolve().then(s.bind(s,5122))},5122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var i=s(5155),n=s(3391),r=s(2475),a=s(8998),o=s(457),l=s(8412),d=s(810);let c={variant:"h2",fontWeight:600,color:"inherit",textAlign:"center",marginBottom:4,fontFamily:"Roboto, sans-serif",fontSize:"3rem"},x=()=>(0,i.jsx)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(d.A,{sx:c,children:"\xbfC\xf3mo est\xe1 el clima en tu ciudad?"})});var h=s(391),m=s(2267),u=s(8205),j=s(4058),g=s(2115);let A={backgroundColor:"#4f84e6",padding:"10px 20px",fontSize:"14px",textTransform:"none",borderRadius:"30px",boxShadow:"none",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#3a70c5"}},p={backgroundColor:"#fff","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#aaa"},"&.Mui-focused fieldset":{borderColor:"#4f84e6"}},fontSize:"14px",borderRadius:"5px"},f={display:"flex",alignItems:"center",backgroundColor:"#d32f2f",color:"white",padding:"8px 12px",borderRadius:"5px",fontSize:"14px",fontWeight:"bold",marginTop:"5px"},y=e=>/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/.test(e)&&!/\s{2,}/.test(e),b=e=>{let{city:t,setCity:s,fetchWeather:n}=e,[r,o]=(0,g.useState)(null),[l,c]=(0,g.useState)(null),x=()=>{if(""===t.trim()){o("El campo no puede estar vac\xedo.");return}if(!y(t)){o("Ingrese una ciudad v\xe1lida.");return}o(null),n()};return(0,i.jsxs)(a.A,{display:"flex",flexDirection:"column",gap:1,marginBottom:2,width:"100%",maxWidth:450,children:[(0,i.jsxs)(a.A,{display:"flex",gap:1,alignItems:"center",children:[(0,i.jsx)(h.A,{variant:"outlined",placeholder:"Ingrese una ciudad",value:t,onChange:e=>{let t=e.target.value;if(""===t){s(""),o(null);return}if(!y(t)){o("Solo se permiten letras y espacios v\xe1lidos.");return}s(t),o(null)},onBlur:()=>{let e=t.trim();s(e),""===e&&c(null)},onKeyDown:e=>{"Enter"===e.key&&x()},sx:{...p,flex:1},error:!!r}),(0,i.jsx)(m.A,{variant:"contained",onClick:x,sx:A,startIcon:(0,i.jsx)(u.A,{}),disabled:""===t.trim()||!!r,children:"Buscar"})]}),r&&(0,i.jsxs)(a.A,{sx:f,children:[(0,i.jsx)(j.A,{sx:{marginRight:"5px"}}),(0,i.jsx)(d.A,{variant:"body2",children:r})]})]})},v=e=>{let{error:t}=e;return t?(0,i.jsxs)(a.A,{display:"flex",alignItems:"center",color:"white",marginTop:2,children:[(0,i.jsx)(j.A,{sx:{marginRight:1}}),(0,i.jsx)(d.A,{variant:"body2",children:t})]}):null};var w=s(4665),C=s(2479),S=s(4156),k=s(2651),I=s(8468),z=s(5140),R=s(5309),N=s(5353),E=s(3787),T=s(9313),W=s(8642),_=s(2405);let B={marginTop:3,padding:2,backgroundColor:"white",borderRadius:2},D={fontWeight:"bold",fontSize:"1.5rem",marginBottom:2},Y={display:"flex",alignItems:"center",marginBottom:1},L={fontWeight:"bold",marginBottom:2,color:"#0077cc"},M={fontSize:24,marginRight:1},P={display:"flex",flexDirection:"row",alignItems:"center",gap:2,flexWrap:"wrap"},F={fontSize:20,color:"#3f51b5"},O={fontSize:20,color:"#e57373"},V=e=>{let{weather:t}=e,s=new Date(1e3*t.sys.sunrise).toLocaleTimeString(),n=new Date(1e3*t.sys.sunset).toLocaleTimeString();return(0,i.jsx)(w.A,{sx:B,children:(0,i.jsxs)(C.A,{children:[(0,i.jsx)(d.A,{variant:"h6",sx:L,children:"Resultados del clima en tu ciudad"}),(0,i.jsxs)(d.A,{variant:"h5",sx:D,children:[t.name,", ",t.sys.country]}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(k.A,{sx:M}),(0,i.jsxs)(d.A,{variant:"body1",children:["Latitud: ",t.coord.lat,"\xb0"]}),(0,i.jsxs)(d.A,{variant:"body1",children:["Longitud: ",t.coord.lon,"\xb0"]})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:t.weather[0].description,width:30,height:30}),(0,i.jsx)(d.A,{variant:"body1",children:t.weather[0].description})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(I.A,{sx:F}),(0,i.jsxs)(d.A,{variant:"body1",children:["Temperatura: ",t.main.temp,"\xb0C"]}),(0,i.jsxs)(a.A,{sx:P,children:[(0,i.jsx)(z.A,{sx:F}),(0,i.jsxs)(d.A,{variant:"body1",children:["M\xednima: ",t.main.temp_min,"\xb0C"]})]}),(0,i.jsxs)(a.A,{sx:P,children:[(0,i.jsx)(R.A,{sx:O}),(0,i.jsxs)(d.A,{variant:"body1",children:["M\xe1xima: ",t.main.temp_max,"\xb0C"]})]})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsx)(a.A,{sx:Y,children:(0,i.jsxs)(d.A,{variant:"body1",children:["Presi\xf3n: ",t.main.pressure," hPa"]})}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(N.A,{sx:M}),(0,i.jsxs)(d.A,{variant:"body1",children:["Humedad: ",t.main.humidity,"%"]})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(E.A,{sx:M}),(0,i.jsxs)(d.A,{variant:"body1",children:["Viento: ",t.wind.speed," m/s"]}),(0,i.jsxs)(d.A,{variant:"body1",children:["Direcci\xf3n: ",t.wind.deg,"\xb0"]})]}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(T.A,{sx:M}),(0,i.jsxs)(d.A,{variant:"body1",children:["Visibilidad: ",t.visibility/1e3," km"]})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsxs)(a.A,{sx:Y,children:[(0,i.jsx)(W.A,{sx:M}),(0,i.jsxs)(d.A,{variant:"body1",children:["Nubes: ",t.clouds.all,"%"]})]}),(0,i.jsx)(S.A,{sx:{marginY:2}}),(0,i.jsx)(a.A,{sx:Y,children:(0,i.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(_.A,{sx:{marginRight:1,fontSize:30,color:"orange"}}),(0,i.jsxs)(d.A,{variant:"body1",children:["Amanecer: ",s]}),(0,i.jsx)(a.A,{sx:{flex:1}})," ",(0,i.jsx)(_.A,{sx:{marginRight:1,fontSize:30,color:"red"}}),(0,i.jsxs)(d.A,{variant:"body1",children:["Puesta de sol: ",n]})]})})]})})};var Z=s(5032);let q=async e=>{try{return(await Z.A.get("".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(e,"&appid=").concat("6b304fe0e61163bc96c3416ef51cf544","&units=metric&lang=es"))).data}catch(e){throw Error("Ciudad no encontrada. Intenta nuevamente.")}},H=()=>{let e=(0,n.wA)(),t=(0,n.d4)(e=>e.city.cityName),[s,d]=(0,g.useState)(null),[c,h]=(0,g.useState)("");(0,g.useEffect)(()=>{""!==t.trim()&&h("")},[t]);let m=async()=>{let e=t.trim();if(!e){d(null),h("El campo no puede estar vac\xedo.");return}h("");try{let t=await q(e);d(t)}catch(e){d(null),h(e.message)}};return(0,i.jsxs)(a.A,{className:"flex flex-col items-center justify-start min-h-screen bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6",children:[(0,i.jsx)(o.Ay,{}),(0,i.jsxs)(l.A,{maxWidth:"md",children:[(0,i.jsx)(x,{}),(0,i.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,marginTop:4},children:(0,i.jsx)(b,{city:t,setCity:t=>e((0,r.AF)(t)),fetchWeather:m})}),(0,i.jsx)(v,{error:c}),s&&!c&&(0,i.jsx)(V,{weather:s})]})]})}},2475:(e,t,s)=>{"use strict";s.d(t,{AF:()=>n,Ay:()=>a});let i=(0,s(8943).Z0)({name:"city",initialState:{cityName:""},reducers:{setCity:(e,t)=>{e.cityName=t.payload},clearCity:e=>{e.cityName=""}}}),{setCity:n,clearCity:r}=i.actions,a=i.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[505,957,441,517,358],()=>t(3486)),_N_E=e.O()}]);